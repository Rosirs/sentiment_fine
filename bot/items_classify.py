# ==============================================================================
# 一个更丰富、更易于维护的商品期货关键词词典
# ==============================================================================
COMMODITY_KEYWORD_DICT = {
    # --- 黑色系 ---
    '螺纹钢': ['电炉利润','高炉开工','废钢到货','找钢成交','钢银库存','周度表需','螺纹基差','钢厂冬储'],
    '铁矿石': ['PB块','麦克粉','杨迪粉','到港预报','压港天数','钢厂补库','美元货','海运费'],
    '热轧卷板': ['冷轧基料价差','C料出口','热卷社库','钢厂直发','下游家电'],
    '焦炭': ['首轮提降','四轮提涨','港口准一级','焦炉开工','钢厂焦炭库存'],
    '焦煤': ['口岸通关','竞拍底价','流拍率','蒙古煤通关车数','俄煤'],
    '动力煤': ['5500坑口','保供长协','电厂库存可用天数','印尼煤','华南接卸'],
    '硅铁': ['宁夏电价','内蒙限电','交割预报','72#硅铁','基差'],

    # --- 能源化工 ---
    '原油': ['原油', 'WTI', '布伦特', 'SC原油', 'OPEC', '欧佩克', 'EIA', 'API', '油价', '地缘政治', '中东'],
    'PTA': ['PTA', '精对苯二甲酸', 'PX', '对二甲苯', '聚酯', '涤纶', '织造'],
    '乙二醇': ['乙二醇', 'MEG', '煤制乙二醇'],
    '甲醇': ['甲醇', 'MA', '港口库存', '甲醇制烯烃', 'MTO'],
    'PVC': ['PVC', '聚氯乙烯', '电石', '烧碱', '氯碱'],
    '聚丙烯': ['聚丙烯', 'PP', '拉丝', '丙烯'],
    'LPG': ['LPG', '液化石油气', 'PDH', '丙烷', '丁烷'],
    '沥青': ['沥青', '石油沥青', '炼厂', '铺路'],
    '橡胶': ['橡胶', '天然橡胶', '全乳胶', '混合胶', '轮胎', '重卡销量'],
    
    # --- 有色金属 ---
    '沪铜': ['铜', '沪铜', 'LME铜', '电解铜', '铜精矿', '智利', '秘鲁', '废铜'],
    '沪铝': ['铝', '沪铝', '电解铝', '氧化铝', '铝棒', '去库存'],
    '沪锌': ['锌', '沪锌', 'LME锌', '锌锭', '镀锌'],
    '沪铅': ['铅', '沪铅', 'LME铅', '铅酸电池', '废电瓶'],
    '沪镍': ['镍', '沪镍', 'LME镍', '不锈钢', '新能源电池', '印尼'],
    '工业硅': ['工业硅', '金属硅', '多晶硅', '光伏'],

    # --- 农产品 ---
    '豆粕': ['豆粕', 'M', '大豆', '美豆', '巴西大豆', '压榨', '油厂', '生猪养殖', '饲料'],
    '豆油': ['豆油', 'Y', '豆一', '豆二', '油脂'],
    '棕榈油': ['棕榈油', 'P', '马棕', '印尼', '产地'],
    '菜籽油': ['菜籽油', '菜油', '菜粕', '油菜籽', '加拿大'],
    '白糖': ['白糖', 'SR', '原糖', '食糖', '巴西', '印度', '糖厂'],
    '棉花': ['棉花', 'CF', '郑棉', '美棉', '新疆棉', '纺织', '棉纱'],
    '玉米': ['玉米', 'C', '淀粉', '深加工', '临储'],  
    '生猪': ['生猪', 'LH', '猪价', '能繁母猪', '仔猪', '猪周期'],
    '鸡蛋': ['鸡蛋', 'JD', '蛋价', '鸡苗'],

    # --- 贵金属 ---
    '黄金': ['黄金', '沪金', 'COMEX金', '金价', '美联储', '通胀', '非农', 'CPI', '避险'],
    '白银': ['白银', '沪银', '银价', '金银比', '光伏用银'],
}


def get_commodity(text):
    """
    根据关键词词典，判断新闻文本关联的核心商品。
     
    Args:
        text (str): 需要分析的新闻标题或内容。
        
    Returns:
        str: 关联到的商品名称，如果没有匹配到则返回'其他'。
    """
    # 遍历我们构建的关键词词典
    for commodity, keywords in COMMODITY_KEYWORD_DICT.items():
        # 如果文本中包含任何一个关键词，就返回对应的商品名称
        if any(keyword in text for keyword in keywords):
            return commodity
            
    # 如果遍历完所有类别都没有找到匹配的，则返回'其他'
    return '其他'
